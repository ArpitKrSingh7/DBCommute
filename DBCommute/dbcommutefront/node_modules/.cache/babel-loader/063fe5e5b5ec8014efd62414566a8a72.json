{"ast":null,"code":"var _jsxFileName = \"/home/arpit/Project_DBMS/Voice-based-Transport-Enquiry-System/voiceenquirysystem/src/Components/AdminLogin/AdminLogin.js\";\nimport React, { Component } from 'react';\nimport './AdminLogin.css';\nimport AdminForms from '../AdminForms/AdminForms';\nimport AdminSelect from '../AdminSelect/AdminSelect';\nimport { ScrollPanel } from 'primereact/scrollpanel';\n\nclass AdminLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      event.preventDefault();\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(this.state); //   \t\tthis.setState({logged:true})\n\n      fetch('http://localhost:3001/adminLogin', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.state.user,\n          password: this.state.pass\n        })\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          response: JSON.parse(data)\n        });\n      }).then(x => {\n        if (this.state.response.error === '') {\n          console.log(this.state); //alert('User valid');\n\n          this.setState({\n            logged: true\n          });\n        } else {\n          alert(\"Not admin\" + JSON.stringify(this.state.response.error));\n          console.log(\"Not Admin\" + this.state);\n        }\n      });\n    };\n\n    this.speak = xyz => {\n      // Check if speaking\n      console.log(this.state);\n      const synth = window.speechSynthesis;\n\n      if (synth.speaking) {\n        console.error('Already speaking...');\n        return;\n      } // Get speak text\n\n\n      const speakText = new SpeechSynthesisUtterance(xyz); // Speak end\n\n      speakText.onend = e => {\n        console.log('Done speaking...');\n      }; // Speak error\n\n\n      speakText.onerror = e => {\n        console.error('Something went wrong');\n      }; // Speak\n\n\n      synth.speak(speakText);\n    };\n\n    this.state = {\n      user: '',\n      pass: '',\n      logged: false,\n      reason: ''\n    };\n  }\n\n  render() {\n    if (!this.state.logged) {\n      return React.createElement(\"div\", {\n        className: \"wrap pa2 center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Headdiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"Heads pa3 ba b--green bg-lightest-blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Admin Login\")), React.createElement(\"div\", {\n        className: \"Content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(ScrollPanel, {\n        style: {\n          width: '100%',\n          height: '500px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"h7\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \" Pls Contact Admin Office for Password Changes \"), React.createElement(\"div\", {\n        className: \"p-inputgroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"p-inputgroup-addon\",\n        style: {\n          width: \"120px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"pi pi-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Email\")), React.createElement(\"input\", {\n        autocomplete: \"off\",\n        name: \"user\",\n        type: \"text\",\n        style: {\n          width: \"200px\"\n        },\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"p-inputgroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"p-inputgroup-addon\",\n        style: {\n          width: \"120px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"pi pi-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Password\")), React.createElement(\"input\", {\n        autocomplete: \"off\",\n        name: \"pass\",\n        type: \"password\",\n        style: {\n          width: \"200px\"\n        },\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        className: \"btn-lg btn btn-dark\",\n        type: \"submit\",\n        value: \"Signin\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })))));\n    } else {\n      return React.createElement(AdminSelect, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default AdminLogin;","map":{"version":3,"sources":["/home/arpit/Project_DBMS/Voice-based-Transport-Enquiry-System/voiceenquirysystem/src/Components/AdminLogin/AdminLogin.js"],"names":["React","Component","AdminForms","AdminSelect","ScrollPanel","AdminLogin","constructor","props","handleChange","event","preventDefault","target","name","value","setState","handleSubmit","console","log","state","fetch","method","headers","body","JSON","stringify","username","user","password","pass","then","res","json","data","response","parse","x","error","logged","alert","speak","xyz","synth","window","speechSynthesis","speaking","speakText","SpeechSynthesisUtterance","onend","e","onerror","reason","render","width","height"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport './AdminLogin.css';\nimport AdminForms from '../AdminForms/AdminForms';\nimport AdminSelect from '../AdminSelect/AdminSelect';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nclass AdminLogin extends Component\n{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t user: '',\n\t\t pass: '',\n\t\t logged: false,\n\t\t reason:''\n\t\t};\n\t}\n\n\n\n\thandleChange = (event) => {\n\t\tevent.preventDefault();\n\t\tconst {name,value}=event.target;\n\t\tthis.setState({[name]:value});\n\t\t\n\t}\n\n\n\thandleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(this.state);\n//   \t\tthis.setState({logged:true})\n\t\t\n\n\t\t fetch('http://localhost:3001/adminLogin',{\n\t\t  method:'post',\n\t\t  headers:{'Content-Type':'application/json'},\n\t\t  body:JSON.stringify({\n\t\t\t\tusername:this.state.user,\n\t\t\t\tpassword:this.state.pass\n\t\t  })\n\t\t  }).then(res=> res.json())\n\t\t  .then(data=>{this.setState({response:JSON.parse(data)})})\n\t\t  .then(x=>{\n\t\t   if(this.state.response.error==='')\n\t\t  { \n\t\t  \tconsole.log(this.state);\n\t\t   //alert('User valid');\n\t\t   this.setState({logged:true})\n\t\t  \n\t\t  }\n\t\t  else\n\t\t  {\n\t\t\n\t\talert(\"Not admin\"+JSON.stringify(this.state.response.error));\n\t\tconsole.log(\"Not Admin\"+this.state);\n\t\t\n\t\t } })\n\t}\n\n\n    speak = (xyz) => {\n      // Check if speaking\n      console.log(this.state);\n      const synth = window.speechSynthesis;\n      if (synth.speaking) {\n        console.error('Already speaking...');\n        return;\n      }\n        \n        // Get speak text\n        const speakText = new SpeechSynthesisUtterance(xyz);\n\n        // Speak end\n        speakText.onend = e => {\n          console.log('Done speaking...');\n\n        };\n\n        // Speak error\n        speakText.onerror = e => {\n          console.error('Something went wrong');\n        };\n\n        // Speak\n        synth.speak(speakText);\n      \n    };\n\n\n\n\trender()\n\t{\n\t\tif((!this.state.logged)){\n\t\t\treturn (\n\t\t\t\t\t<div className='wrap pa2 center'>\n\n\t\t\t\t\t\t<div className='Headdiv'>\n\t\t\t\t\t\t<h1 className='Heads pa3 ba b--green bg-lightest-blue'>Admin Login</h1>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='Content'>\n\t\t\t\t\t\t\t<ScrollPanel style={{width: '100%', height: '500px'}}>\n\t\t\t\t\t\t\t\t<form>\n\n\t\t\t\t\t\t\t\t<h7 > Pls Contact Admin Office for Password Changes </h7>        \n\t\t\t\t\t\t\t\t<div className=\"p-inputgroup\">\n\t\t\t\t\t\t\t\t<span className=\"p-inputgroup-addon\" style={{width:\"120px\"}}>\n\t\t\t\t\t\t\t\t<i className=\"pi pi-user\">Email</i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<input autocomplete=\"off\" name=\"user\" type=\"text\" style={{width:\"200px\"}} onChange={this.handleChange}/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"p-inputgroup\">\n\t\t\t\t\t\t\t\t<span className=\"p-inputgroup-addon\" style={{width:\"120px\"}}>\n\t\t\t\t\t\t\t\t<i className=\"pi pi-user\">Password</i>\n\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t<input autocomplete=\"off\" name=\"pass\" type=\"password\" style={{width:\"200px\"}} onChange={this.handleChange}/>\n\t\t\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t\t\t<input className=\"btn-lg btn btn-dark\" type=\"submit\" value=\"Signin\" onClick={this.handleSubmit}/>\n\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</ScrollPanel>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\n\t\t\t);\n\t\t}\n\n\t\telse {\n\t\t\treturn(\n\n\t\t\t\t\t<AdminSelect />\n\t\t\t);\n\t\t}\n\n\t}\n}\n\nexport default AdminLogin;"]},"metadata":{},"sourceType":"module"}